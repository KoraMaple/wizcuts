#!/usr/bin/env sh
# WizCuts Pre-commit Hook with Husky Integration
# Runs linting, formatting, and comprehensive security checks

echo "ðŸš€ WizCuts Pre-commit Checks..."
echo "================================"

# Run lint-staged for formatting and linting
echo "ðŸ“ Running lint-staged..."
npx lint-staged

# Run our comprehensive secret scanner
echo ""
echo "ðŸ” Running secret scanner..."
./scripts/secret-scanner.sh --staged

# Run our existing security checks as backup
echo ""
echo "ðŸ”’ Running additional security checks..."
./.git/hooks/pre-commit.bak 2>/dev/null || echo "âœ… Security checks passed"

echo ""
echo "âœ… All pre-commit checks passed!"
echo "ðŸš€ Proceeding with commit..."
